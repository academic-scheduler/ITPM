import{a as R,_ as V,R as b,b as j,c as G,P as f,q as U,j as e}from"./index-Dzdc8_NM.js";import{b as A,c,d as u,e as F,a as S}from"./cil-user-wf1K5o6S.js";import{r as B}from"./auth-D0pxq4wI.js";import{C as q,a as W,b as H,c as J}from"./CRow-CZpV7Mbf.js";import{d as I,C as K,a as t,b as n,c as d}from"./CInputGroupText-8PT-YkIT.js";import"./api-Cg1DICNh.js";import"./index-t--hEgTQ.js";var C=R.forwardRef(function(a,h){var r,s=a.children,x=a.className,o=a.feedback,m=a.feedbackInvalid,p=a.feedbackValid,i=a.floatingClassName,z=a.floatingLabel,L=a.htmlSize,v=a.id,g=a.invalid,E=a.label,N=a.options,y=a.size,P=a.text,D=a.tooltipFeedback,w=a.valid,k=V(a,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return b.createElement(I,{describedby:k["aria-describedby"],feedback:o,feedbackInvalid:m,feedbackValid:p,floatingClassName:i,floatingLabel:z,id:v,invalid:g,label:E,text:P,tooltipFeedback:D,valid:w},b.createElement("select",j({id:v,className:G("form-select",(r={},r["form-select-".concat(y)]=y,r["is-invalid"]=g,r["is-valid"]=w,r),x),size:L},k,{ref:h}),N?N.map(function(l,T){return b.createElement("option",j({},typeof l=="object"&&l.disabled&&{disabled:l.disabled},typeof l=="object"&&l.value!==void 0&&{value:l.value},{key:T}),typeof l=="string"?l:l.label)}):s))});C.propTypes=j({className:f.string,htmlSize:f.number,options:f.array},I.propTypes);C.displayName="CFormSelect";const _=()=>{const[a,h]=R.useState({first_name:"",last_name:"",username:"",email:"",password1:"",password2:"",role:""}),r=U(),s=o=>{h({...a,[o.target.name]:o.target.value})},x=async o=>{var m,p;if(o.preventDefault(),a.password1!==a.password2){alert("Passwords do not match");return}if(!a.role){alert("Please select a role (student, lecturer, or instructor)");return}try{const i=await B(a);alert("Account created successfully!"),console.log(i.data)}catch(i){alert(((p=(m=i.response)==null?void 0:m.data)==null?void 0:p.error)||"Registration failed"),console.error(i)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(A,{children:e.jsx(q,{className:"justify-content-center",children:e.jsx(W,{md:9,lg:7,xl:6,children:e.jsx(H,{className:"mx-4",children:e.jsx(J,{className:"p-4",children:e.jsxs(K,{onSubmit:x,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsxs(t,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(c,{icon:u})}),e.jsx(d,{name:"first_name",placeholder:"First Name",value:a.first_name,onChange:s,autoComplete:"firstname"})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(c,{icon:u})}),e.jsx(d,{name:"last_name",placeholder:"Last Name",value:a.last_name,onChange:s,autoComplete:"lastname"})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(c,{icon:u})}),e.jsx(d,{name:"username",placeholder:"Username",value:a.username,onChange:s,autoComplete:"username"})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(n,{children:"@"}),e.jsx(d,{name:"email",placeholder:"Email",value:a.email,onChange:s,autoComplete:"email"})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(c,{icon:F})}),e.jsx(d,{type:"password",name:"password1",placeholder:"Password",value:a.password1,onChange:s,autoComplete:"new-password"})]}),e.jsxs(t,{className:"mb-4",children:[e.jsx(n,{children:e.jsx(c,{icon:F})}),e.jsx(d,{type:"password",name:"password2",placeholder:"Repeat password",value:a.password2,onChange:s,autoComplete:"new-password"})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(c,{icon:u})}),e.jsxs(C,{name:"role",value:a.role,onChange:s,children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"lecturer",children:"Lecturer"}),e.jsx("option",{value:"instructor",children:"Instructor"})]})]}),e.jsx("div",{className:"d-grid",children:e.jsx(S,{type:"submit",color:"success",children:"Create Account"})}),e.jsx("br",{}),e.jsx("div",{className:"d-grid",children:e.jsx(S,{color:"primary",onClick:()=>r("/dashboard"),children:"Go to Dashboard"})})]})})})})})})})};export{_ as default};
